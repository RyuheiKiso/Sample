
# 実装プラン（フェーズ分割・動作確認しながら開発）

---

## 機能

テーブル管理機能（フロントエンド・バックエンド同時進行）

---

## フェーズ構成

本機能は動作確認しながら段階的に開発・検証を進めるため、以下の3フェーズに分割して実装する。

### フェーズ1：テーブル一覧・作成（最小構成）
- gRPCプロトコル定義（TableServiceのListTables, CreateTableのみ）
- バックエンド：テーブル一覧取得・作成API、SQLite永続化、最小限のバリデーション
- フロントエンド：テーブル一覧画面、テーブル新規作成画面
- 動作確認：テーブルの追加・一覧取得ができること

【主なファイル】
- code/backend/core/proto/table.proto（ListTables, CreateTableのみ）
- code/backend/src/feature/table/table.rs
- code/backend/src/main.rs
- code/backend/src/data/app.db
- code/frontend/src/features/table/TableList.tsx
- code/frontend/src/features/table/TableForm.tsx

### フェーズ2：テーブル編集・削除、カラム管理
- gRPCプロトコル拡張（UpdateTable, DeleteTable, ColumnService追加）
- バックエンド：テーブル編集・削除、カラム一覧・追加・編集・削除API、バリデーション強化
- フロントエンド：テーブル編集・削除、カラム管理画面・ダイアログ
- 動作確認：テーブルの編集・削除、カラムの追加・編集・削除ができること

【主なファイル】
- code/backend/core/proto/table.proto（Table/ColumnService拡張）
- code/backend/src/feature/table/table.rs
- code/backend/src/feature/table/column.rs
- code/frontend/src/features/table/TableDetail.tsx
- code/frontend/src/features/table/ColumnForm.tsx

### フェーズ3：行データ管理・総合テスト
- gRPCプロトコル拡張（RowDataService追加）
- バックエンド：行データ一覧・追加・編集・削除API、全体統合テスト
- フロントエンド：行データ管理画面・ダイアログ
- エラーハンドリング・バリデーション最終調整
- ドキュメント整備
- 動作確認：行データの追加・編集・削除、全体の一連動作

【主なファイル】
- code/backend/core/proto/table.proto（RowDataService追加）
- code/backend/src/feature/table/row_data.rs
- code/frontend/src/features/table/RowForm.tsx
- code/frontend/src/features/table/TableList.test.tsx
- docs/06_実装プラン/02_テーブル管理機能.md

---

## 備考
- 各フェーズでフロントエンド・バックエンドを同時に開発し、段階的に動作確認・結合テストを行う。
- DBマイグレーション・テスト・ログ・エラー処理・ドキュメント整備も各フェーズで必要に応じて実施。