# ディレクトリ構成(Go)

---

## 概要

バーティカルスライスを採用

---

## ディレクトリ構成

```
backend/
├── go.mod
├── go.sum
├── cmd/                  # エントリポイント(mainパッケージ)
│   └── server/           # サーバー起動用main.go
│       └── main.go
├── api/                  # OpenAPI/SwaggerやgRPCの仕様ファイル
│   ├── proto/            # gRPC用protoファイル
│   │   └── auth.proto
│   └── openapi/          # REST用OpenAPI仕様ファイル
│       └── openapi.yaml
├── configs/              # 設定ファイル
│   └── config.yaml
├── data/                 # データベースや永続データ
│   └── app.db
├── internal/             # アプリケーション本体（バーティカルスライス）
│   ├── common/           # 共通関数・ユーティリティ
│   │   ├── util.go
│   │   └── db.go
│   ├── user/             # ユーザー機能
│   │   ├── rest_handler.go   # REST用ハンドラ
│   │   ├── grpc_handler.go   # gRPC用ハンドラ
│   │   ├── service.go
│   │   └── repository.go
│   ├── login/            # ログイン機能
│   │   ├── rest_handler.go
│   │   ├── grpc_handler.go
│   │   ├── service.go
│   │   ├── repository.go
│   │   ├── client.go
│   │   └── proto/
│   │       └── auth.pb.go
│   └── product/          # 商品機能
│       ├── rest_handler.go
│       ├── grpc_handler.go
│       ├── service.go
│       └── repository.go
├── router/               # ルーティング（REST/gRPC分離）
│   ├── rest.go
│   └── grpc.go
├── pkg/                  # 外部公開用ライブラリ（必要に応じて）
│   └── example.go
├── scripts/              # 開発・ビルド・デプロイ用スクリプト
│   └── migrate.sh
└── test/                 # 統合テスト・E2Eテスト
    └── integration_test.go
```

### 主なポイント

- `cmd/` … サーバーやCLIなどエントリポイントごとにディレクトリを分ける
- `api/` … gRPCやOpenAPIの仕様ファイルを集約
- `configs/` … 設定ファイル（YAML, JSON等）
- `internal/` … バーティカルスライスで機能ごとにディレクトリ分割
- `pkg/` … 外部公開可能なライブラリ（必要な場合のみ）
- `scripts/` … マイグレーションやビルド等のスクリプト
- `test/` … 統合テストやE2Eテスト

---